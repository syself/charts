## Parameters

### Global parameters

| Name                      | Description                                     | Value |
| ------------------------- | ----------------------------------------------- | ----- |
| `global.imageRegistry`    | Global Docker image registry                    | `""`  |
| `global.imagePullSecrets` | Global Docker registry secret names as an array | `[]`  |
| `global.storageClass`     | Global StorageClass for Persistent Volume(s)    | `""`  |

### Common parameters

| Name                | Description                                       | Value |
| ------------------- | ------------------------------------------------- | ----- |
| `nameOverride`      | String to partially override common.names.name    | `""`  |
| `fullnameOverride`  | String to fully override common.names.fullname    | `""`  |
| `namespaceOverride` | String to fully override common.names.namespace   | `""`  |
| `commonLabels`      | Labels to add to all deployed objects             | `{}`  |
| `commonAnnotations` | Annotations to add to all deployed objects        | `{}`  |
| `extraDeploy`       | Array of extra objects to deploy with the release | `[]`  |

### Vaultwarden Server Parameters

| Name                                          | Description                                                                                                                                                                                                                           | Value                           |
| --------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------- |
| `server.image.registry`                       | vaultwarden server image registry                                                                                                                                                                                                     | `docker.io`                     |
| `server.image.repository`                     | vaultwarden server image repository                                                                                                                                                                                                   | `vaultwarden/server`            |
| `server.image.tag`                            | vaultwarden server image tag (immutable tags are recommended)                                                                                                                                                                         | `1.30.1`                        |
| `server.image.digest`                         | vaultwarden server image digest in the way sha256:aa.... Please note this parameter, if set, will override the tag image tag (immutable tags are recommended)                                                                         | `""`                            |
| `server.image.pullPolicy`                     | vaultwarden server image pull policy                                                                                                                                                                                                  | `IfNotPresent`                  |
| `server.image.pullSecrets`                    | vaultwarden server image pull secrets                                                                                                                                                                                                 | `[]`                            |
| `server.replicaCount`                         | Number of vaultwarden server replicas to deploy                                                                                                                                                                                       | `1`                             |
| `server.databaseURL.value`                    | Specifies the value for the DATABASE_URL environmt variable. Creates a secret from that value. If you have already a secret containing the db connection leave this empty.                                                            | `""`                            |
| `server.databaseURL.existingSecret.name`      | Specifies the name of an existing Secret for the database URL                                                                                                                                                                         | `postgres-cluster-app`          |
| `server.databaseURL.existingSecret.key`       | Specifies the key of an existing Secret for the database URL                                                                                                                                                                          | `uri`                           |
| `server.appURL`                               | URL where the app will be accessible. Used a needed env var for vaultwarden and for the ingress, if enabled.                                                                                                                          | `https://vault.test.syself.org` |
| `server.pvc.accessMode`                       | Name of the access mode to be set in the PVC                                                                                                                                                                                          | `ReadWriteOnce`                 |
| `server.pvc.size`                             | Size to be requested for the PVC                                                                                                                                                                                                      | `8Gi`                           |
| `server.pvc.storageClass`                     | Name of the storage class to be used by the PVC                                                                                                                                                                                       | `standard`                      |
| `server.containerPorts.frontend`              | vaultwarden server frontend container port                                                                                                                                                                                            | `80`                            |
| `server.env.dataFolder`                       | Main data folder                                                                                                                                                                                                                      | `/data`                         |
| `server.env.attachmentsFolder`                | Attachments folder, override main data folder                                                                                                                                                                                         | `/data/attachments`             |
| `server.env.showPasswordHint`                 | Controls whether a password hint should be shown directly in the web page if SMTP service is not configured. Not recommended for publicly-accessible instances as this provides unauthenticated access to potentially sensitive data. | `false`                         |
| `server.env.signupsAllowed`                   | Controls if new users can register                                                                                                                                                                                                    | `true`                          |
| `server.env.invitationsAllowed`               | Invitations allow org admins to invite users, even when signups are disabled                                                                                                                                                          | `true`                          |
| `server.env.invitationOrgName`                | Name shown in the invitation emails that don't come from a specific organization                                                                                                                                                      | `Vaultwarden`                   |
| `server.env.signupDomainsWhitelist`           | Controls if new users from a list of comma-separated domains can register even if SIGNUPS_ALLOWED is set to false                                                                                                                     | `""`                            |
| `server.env.signupsVerify`                    | Controls if new users need to verify their email address upon registration                                                                                                                                                            | `false`                         |
| `server.env.logFile`                          | Logging to file                                                                                                                                                                                                                       | `""`                            |
| `server.env.logLevel`                         | Change the verbosity of the log output. Valid values are "trace", "debug", "info", "warn", "error" and "off".                                                                                                                         | `""`                            |
| `server.env.iconBlacklistNonGlobalIps`        | Any IP which is not defined as a global IP will be blacklisted. Useful to secure your internal environment.                                                                                                                           | `false`                         |
| `server.env.ipHeader`                         | Client IP Header, used to identify the IP of the client, defaults to "X-Real-IP". Set to the string "none" (without quotes), to disable any headers and just use the remote IP.                                                       | `X-Real-IP`                     |
| `server.env.dbConnectionRetries`              | Number of times to retry the database connection during startup, with 1 second delay between each retry, set to 0 to retry indefinitely                                                                                               | `15`                            |
| `server.env.databaseMaxConnections`           | Define the size of the connection pool used for connecting to the database.                                                                                                                                                           | `10`                            |
| `server.env.enableDbWAL`                      | Set to false to avoid enabling WAL during startup. Note that if the DB already has WAL enabled, you will also need to disable WAL in the DB, this setting only prevents Vaultwarden from automatically enabling it on start.          | `true`                          |
| `server.env.webVaultEnabled`                  | Wheter to enable web vault                                                                                                                                                                                                            | `true`                          |
| `server.env.websocket.enabled`                |                                                                                                                                                                                                                                       | `true`                          |
| `server.env.websocket.address`                |                                                                                                                                                                                                                                       | `0.0.0.0`                       |
| `server.env.websocket.port`                   |                                                                                                                                                                                                                                       | `3012`                          |
| `server.env.rocket.address`                   |                                                                                                                                                                                                                                       | `""`                            |
| `server.env.rocket.workers`                   |                                                                                                                                                                                                                                       | `10`                            |
| `server.env.rocket.port`                      |                                                                                                                                                                                                                                       | `""`                            |
| `server.env.rocket.workers`                   |                                                                                                                                                                                                                                       | `10`                            |
| `server.env.yubico.clientId`                  |                                                                                                                                                                                                                                       | `""`                            |
| `server.env.yubico.secretKey`                 |                                                                                                                                                                                                                                       | `""`                            |
| `server.env.yubico.server`                    |                                                                                                                                                                                                                                       | `""`                            |
| `server.env.smtp.existingSecret`              |                                                                                                                                                                                                                                       | `""`                            |
| `server.env.smtp.host`                        |                                                                                                                                                                                                                                       | `""`                            |
| `server.env.smtp.security`                    |                                                                                                                                                                                                                                       | `starttls`                      |
| `server.env.smtp.port`                        |                                                                                                                                                                                                                                       | `25`                            |
| `server.env.smtp.from`                        |                                                                                                                                                                                                                                       | `""`                            |
| `server.env.smtp.fromName`                    |                                                                                                                                                                                                                                       | `""`                            |
| `server.env.smtp.username.value`              |                                                                                                                                                                                                                                       | `""`                            |
| `server.env.smtp.username.existingSecretKey`  |                                                                                                                                                                                                                                       | `""`                            |
| `server.env.smtp.password.value`              |                                                                                                                                                                                                                                       | `""`                            |
| `server.env.smtp.password.existingSecretKey`  |                                                                                                                                                                                                                                       | `""`                            |
| `server.env.smtp.authMechanism`               |                                                                                                                                                                                                                                       | `Plain`                         |
| `server.env.smtp.acceptInvalidHostnames`      |                                                                                                                                                                                                                                       | `false`                         |
| `server.env.smtp.acceptInvalidCerts`          |                                                                                                                                                                                                                                       | `false`                         |
| `server.env.smtp.debug`                       |                                                                                                                                                                                                                                       | `false`                         |
| `server.env.pushNotifications`                |                                                                                                                                                                                                                                       | `{}`                            |
| `server.service.ports.frontend`               | vaultwarden server service frontend port                                                                                                                                                                                              | `80`                            |
| `server.service.annotations`                  | Additional custom annotations for vaultwarden server service                                                                                                                                                                          | `{}`                            |
| `server.ingress.enable`                       | Boolean to enable or disable creation of an ingress                                                                                                                                                                                   | `true`                          |
| `server.ingress.ingressClassName`             | Name of the class to be used by the ingress                                                                                                                                                                                           | `nginx`                         |
| `server.ingress.enableTLS`                    | Wheter to enable TLS encryption for the ingress                                                                                                                                                                                       | `true`                          |
| `server.ingress.annotations`                  | Additional custom annotations for vaultwarden ingress                                                                                                                                                                                 | `{}`                            |
| `server.rbac.create`                          | Specifies whether RBAC resources should be created                                                                                                                                                                                    | `true`                          |
| `server.rbac.rules`                           | Custom RBAC rules to set                                                                                                                                                                                                              | `[]`                            |
| `server.livenessProbe.enabled`                | Enable livenessProbe on vaultwarden server containers                                                                                                                                                                                 | `false`                         |
| `server.livenessProbe.initialDelaySeconds`    | Initial delay seconds for livenessProbe                                                                                                                                                                                               | `10`                            |
| `server.livenessProbe.periodSeconds`          | Period seconds for livenessProbe                                                                                                                                                                                                      | `2`                             |
| `server.livenessProbe.timeoutSeconds`         | Timeout seconds for livenessProbe                                                                                                                                                                                                     | `3`                             |
| `server.livenessProbe.failureThreshold`       | Failure threshold for livenessProbe                                                                                                                                                                                                   | `5`                             |
| `server.livenessProbe.successThreshold`       | Success threshold for livenessProbe                                                                                                                                                                                                   | `1`                             |
| `server.customLivenessProbe`                  | Custom livenessProbe that overrides the default one                                                                                                                                                                                   | `{}`                            |
| `server.customReadinessProbe`                 | Custom readinessProbe that overrides the default one                                                                                                                                                                                  | `{}`                            |
| `server.customStartupProbe`                   | Custom startupProbe that overrides the default one                                                                                                                                                                                    | `{}`                            |
| `server.resources.vaultwardenServer.limits`   | The resources limits for the vaultwarden server containers                                                                                                                                                                            | `{}`                            |
| `server.resources.vaultwardenServer.requests` | The requested resources for the vaultwarden server containers                                                                                                                                                                         | `{}`                            |
| `server.podSecurityContext.enabled`           | Enabled vaultwarden server pods' Security Context                                                                                                                                                                                     | `false`                         |
| `server.podSecurityContext.fsGroup`           | Set vaultwarden server pod's Security Context fsGroup                                                                                                                                                                                 | `1001`                          |
| `server.podLabels`                            | Extra labels for vaultwarden server pods                                                                                                                                                                                              | `{}`                            |
| `server.podAnnotations`                       | Annotations for vaultwarden server pods                                                                                                                                                                                               | `{}`                            |
| `server.pdb.create`                           | Enable PodDisruptionBudged for vaultwarden server pods                                                                                                                                                                                | `false`                         |
| `server.pdb.minAvailable`                     | Set minAvailable for vaultwarden server pods                                                                                                                                                                                          | `1`                             |
| `server.pdb.maxUnavailable`                   | Set maxUnavailable for vaultwarden server pods                                                                                                                                                                                        | `""`                            |
| `server.autoscaling.enabled`                  | Enable autoscaling for server                                                                                                                                                                                                         | `false`                         |
| `server.autoscaling.minReplicas`              | Minimum number of vaultwarden server replicas                                                                                                                                                                                         | `""`                            |
| `server.autoscaling.maxReplicas`              | Maximum number of vaultwarden server replicas                                                                                                                                                                                         | `""`                            |
| `server.autoscaling.targetCPU`                | Target CPU utilization percentage                                                                                                                                                                                                     | `""`                            |
| `server.autoscaling.targetMemory`             | Target Memory utilization percentage                                                                                                                                                                                                  | `""`                            |
| `server.affinity`                             | Affinity for vaultwarden server pods assignment                                                                                                                                                                                       | `{}`                            |
| `server.nodeSelector`                         | Node labels for vaultwarden server pods assignment                                                                                                                                                                                    | `{}`                            |
| `server.tolerations`                          | Tolerations for vaultwarden server pods assignment                                                                                                                                                                                    | `[]`                            |
| `server.updateStrategy.type`                  | vaultwarden server statefulset strategy type                                                                                                                                                                                          | `RollingUpdate`                 |
| `server.priorityClassName`                    | vaultwarden server pods' priorityClassName                                                                                                                                                                                            | `""`                            |
| `server.topologySpreadConstraints`            | Topology Spread Constraints for pod assignment spread across your cluster among failure-domains. Evaluated as a template                                                                                                              | `[]`                            |
| `server.schedulerName`                        | Name of the k8s scheduler (other than default) for vaultwarden server pods                                                                                                                                                            | `""`                            |
| `server.terminationGracePeriodSeconds`        | Seconds Redmine pod needs to terminate gracefully                                                                                                                                                                                     | `""`                            |
| `server.lifecycleHooks`                       | for the vaultwarden server container(s) to automate configuration before or after startup                                                                                                                                             | `{}`                            |
| `server.extraEnvVars`                         | Array with extra environment variables to add to vaultwarden server nodes                                                                                                                                                             | `[]`                            |
| `server.extraVolumes`                         | Extra Volumes for vaultwarden server pods                                                                                                                                                                                             | `[]`                            |
| `server.extraVolumeMounts`                    | Optionally specify extra list of additional volumeMounts for the vaultwarden server container(s)                                                                                                                                      | `[]`                            |
| `server.sidecars`                             | Add additional sidecar containers to the vaultwarden server pod(s)                                                                                                                                                                    | `[]`                            |
| `server.initContainers`                       | Add additional init containers to the vaultwarden server pod(s)                                                                                                                                                                       | `[]`                            |

### Other Parameters

| Name                                          | Description                                                                | Value  |
| --------------------------------------------- | -------------------------------------------------------------------------- | ------ |
| `serviceAccount.create`                       | Specifies whether a ServiceAccount should be created                       | `true` |
| `serviceAccount.name`                         | The name of the ServiceAccount to use.                                     | `""`   |
| `serviceAccount.annotations`                  | Additional Service Account annotations (evaluated as a template)           | `{}`   |
| `serviceAccount.automountServiceAccountToken` | Automount service account token for the vaultwarden server service account | `true` |

### SSO Parameters

| Name                                     | Description                                                                                                                                                                             | Value                          |
| ---------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------ |
| `server.env.sso.enabled`                 | Specifies whether sso should be enabled or not                                                                                                                                          | `true`                         |
| `server.env.sso.clientId`                | Specifies the value of the clientid if specified which will be placed in the config Map, this will cause the application ignore the clientIdFromSecret values set in the secret         | `""`                           |
| `server.env.sso.clientSecret`            | Specifies the value of the clientSecret if specified which will be placed in the config Map, this will cause the application ignore the clientSecretFromSecret values set in the secret | `""`                           |
| `server.env.sso.authority`               | Specifies the value of the authority if specified which will be placed in the config Map, this will cause the application ignore the authorityFromSecret values set in the secret       | `""`                           |
| `server.env.sso.disablePasswordLogin`    | Specifies whether disablePasswordLogin should be enabled or not                                                                                                                         | `true`                         |
| `server.env.sso.scopes`                  | Specifies the scope parameters configured in authentik for the vaultwarden profile showing what permissions vaultwarden has                                                             | `""`                           |
| `server.env.sso.cache_expiration`        | Specifies the cache_expiration parameters configured in authentik for the vaultwarden profile, how often Vaultwarden fetches IdP configuration                                          | `""`                           |
| `server.env.sso.frontend`                | Specifies the frontend override parameters configured in authentik for the vaultwarden profile, enforces the SSO only login UI for vaulwarden                                           | `""`                           |
| `server.sso.clientIdFromSecret.name`     | Specifies the value of the name of the secret containing clientId (helps authentik identity the client vaultwarden) obtained from authentik on vaultwarden profile                      | `"<clientId-secret-name>"`     |
| `server.sso.clientIdFromSecret.key`      | Specifies the value of the key of the secret containing clientId obtained from authentik on vaultwarden profile                                                                         | `"<clientId-secret-key>"`      |
| `server.sso.clientSecretFromSecret.name` | Specifies the value of the name of the secret containing clientSecret(helps authentik authenticate the client vaultwarden) obtained from authentik on vaultwarden profile               | `"<clientSecret-secret-name>"` |
| `server.sso.clientSecretFromSecret.key`  | Specifies the value of the key of the secret containing clientSecret obtained from authentik on vaultwarden profile                                                                     | `"<clientSecret-secret-key>"`  |
| `server.sso.authorityFromSecret.name`    | Specifies the value of the name of the secret containing authority obtained from authentik on vaultwarden profile                                                                       | `"<authority-secret-name>"`    |
| `server.sso.authorityFromSecret.key`     | Specifies the value of the key of the secret containing authority obtained from authentik on vaultwarden profile                                                                        | `"<authority-secret-key>"`     |
